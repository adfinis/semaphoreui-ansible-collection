{{ ansible_managed | comment }}
{% if semaphore_db_backend != "sqlite" %}
SEMAPHORE_DB_USER={{ semaphore_db_user }}
SEMAPHORE_DB_PASS={{ semaphore_db_pass }}
{% endif %}

SEMAPHORE_COOKIE_HASH={{ semaphore_cookie_hash }}
SEMAPHORE_COOKIE_ENCRYPTION={{ semaphore_cookie_encryption }}
SEMAPHORE_ACCESS_KEY_ENCRYPTION={{ semaphore_access_key_encryption }}

SEMAPHORE_ADMIN={{ semaphore_admin_username }}
SEMAPHORE_ADMIN_PASSWORD={{ semaphore_admin_password }}
SEMAPHORE_ADMIN_NAME={{ semaphore_admin_name }}
SEMAPHORE_ADMIN_EMAIL={{ semaphore_admin_email }}
{% if semaphore_oidc_providers %}
{# Double JSON-encode to first render the JSON config, then quote it for embedding in the env file. #}
SEMAPHORE_OIDC_PROVIDERS={{ semaphore_oidc_providers | to_json | to_json }}
{% endif %}
{% if semaphore_email_alert %}
SEMAPHORE_EMAIL_USERNAME={{ semaphore_email_username }}
SEMAPHORE_EMAIL_PASSWORD={{ semaphore_email_password }}
{% endif %}
